name    = Alien-Google-GRPC
author  = Tom Stall <stall@cpan.org>
license = Perl_5
copyright_holder = Tom Stall
copyright_year   = 2017

version = 0.03

[AlienBase::Doc]
name = gRPC
type = library
type = tool

[@Filter]
-bundle = @Basic
-remove = MakeMaker

[MakeMaker::Awesome]

header = die 'Unsupported OS' if $^O eq 'MSWin32';

header = system 'pkg-config --exists grpc++';
header = if($? != 0){
header = print "NOTE: Both gPRC and pkg-config are not installed. So, will build gRPC if build other prereqs are installed.\n"; 
header = die "This module neeeds *git, autoconf, automake and libtool to build\n" unless (qx(which git) =~ /git/);
header = die "This module neeeds git, *autoconf, automake and libtool to build\n" unless (qx(which autoconf) =~ /autoconf/);
header = die "This module neeeds git, autoconf, *automake and libtool to build\n" unless (qx(which automake) =~ /automake/);
header = die "This module neeeds git, autoconf, automake and *libtool to build\n" unless (qx(which libtoolize) =~ /libtoolize/);
header = }

[AlienBuild]

[ReadmeAnyFromPod]
type = pod 
filename = README.pod
location = root

[PruneCruft]

[GithubMeta]

[CPANFile]
[MetaJSON]
[PkgVersion]
[AutoPrereqs]

[Test::PodSpelling]
stopword = gRPC
stopword = protofbuf

[CheckChangeLog]
[Clean]
